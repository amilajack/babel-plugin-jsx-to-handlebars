<html>
<head>
    <meta charset="utf-8" />
</head>
<body>
  <h1>hello world</h1>
  <div id="app"></div>

  <script id="main2" type="text/x-handlebars-template">
    {{#>Test name="name"}}
      <h2>subheadline</h2>
      {{#>Test name="name2" show=true}}
        <h3>subheadline</h3>
      {{/Test}}
    {{/Test}}
  </script>

  <script src="handlebars-v4.0.2.js"></script>
  <script>
    // generated
var abc = ['a', 'b', 'c'];

var _compiledPartial = Handlebars.compile('<span></span>');

var _compiledPartial2 = Handlebars.compile('<div className="{{classname}}" a="b" c="{{props.name}}">\n        <p>\n          {{props.name}}\n        </p>\n        {{someDiv}}\n        <img />\n        {{#if _test}}<h1>show is true</h1>{{/if}}\n        <ul>\n          {{_callResult}}\n        </ul>\n        {{#if _test2}}<Component />{{else}}null{{/if}}\n        {{props.children}}\n      </div>');

var _compiledPartial3 = Handlebars.compile('<li className="{{props.name}}">{{item}}</li>');

  Handlebars.registerPartial('Test', function (context, execOptions) {
    context = context || {};
    context.props = execOptions.hash;
    context.props.children = new Handlebars.SafeString(execOptions.data['partial-block'](context));

    var classname = ['b'].join(' ').trim();
    context.classname = classname;
    var list = abc;
    context.list = list;
    var someDiv = new Handlebars.SafeString(_compiledPartial.call(this, context, execOptions));
    context.someDiv = someDiv;
    var show = typeof context.props.show != 'undefined' ? context.props.show : true;

    context.show = show;
    var _test = show;
    context._test = _test;

    var _callResult = (function (result) {
      return Array.isArray(result) ? new Handlebars.SafeString(result.join('')) : result;
    })(list.map(function (item) {
      var context = Object.assign({}, context);
      context.item = item;

      return new Handlebars.SafeString(_compiledPartial3.call(this, context, execOptions));
    }));

    context._callResult = _callResult;

    var _test2 = true == true;

    context._test2 = _test2;
    return new Handlebars.SafeString(_compiledPartial2.call(this, context, execOptions));
  });


    var main2 = Handlebars.compile(document.querySelector('#main2').text);
    window.app.innerHTML = main2();
  </script>
</body>
</html>
